<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Desert Empire | Get Ad Removal Code</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vazirmatn@33.0.4/Vazirmatn-font-face.css">
  <style>
    :root {
      --primary: #8b5cf6;
      --primary-dark: #6d28d9;
      --primary-light: #c084fc;
      --accent: #ec4899;
      --bg-dark: #1e1b4b;
      --bg-gradient: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #4c1d95 100%);
      --text: #e0e7ff;
      --card-bg: rgba(30, 27, 75, 0.65);
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, sans-serif;
      background: var(--bg-gradient);
      color: var(--text);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0 10px;
      box-sizing: border-box;
    }

    body[dir="rtl"] {
      font-family: 'Vazirmatn', system-ui, sans-serif;
      text-align: right;
    }

    header {
      width: 100%;
      max-width: 900px;
      text-align: center;
      padding: 30px 0 20px;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      max-width: 900px;
      margin-bottom: 15px;
      flex-wrap: wrap;
      gap: 15px;
    }

    body[dir="rtl"] .top-bar {
      flex-direction: row-reverse;
    }

    h1.site-title {
      font-size: 3rem;
      margin: 0;
      color: var(--primary-light);
      text-shadow: 0 0 25px rgba(139, 92, 246, 0.8);
      letter-spacing: 2px;
    }

    .lang-switch {
      display: flex;
      gap: 12px;
    }

    body[dir="rtl"] .lang-switch {
      flex-direction: row-reverse;
    }

    .lang-btn {
      background: rgba(139, 92, 246, 0.25);
      color: var(--text);
      border: 1px solid var(--primary);
      padding: 8px 18px;
      border-radius: 30px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s;
    }

    .lang-btn.active {
      background: var(--primary);
      color: white;
      box-shadow: 0 0 15px rgba(139, 92, 246, 0.7);
    }

    .lang-btn:hover:not(.active) {
      background: rgba(139, 92, 246, 0.45);
    }

    .nav {
      display: flex;
      justify-content: center;
      gap: 45px;
      margin: 25px 0 40px;
      font-size: 1.15rem;
    }

    body[dir="rtl"] .nav {
      flex-direction: row-reverse;
    }

    .nav a {
      color: var(--text);
      text-decoration: none;
      padding: 10px 24px;
      border-radius: 30px;
      transition: all 0.3s ease;
      background: rgba(139, 92, 246, 0.15);
    }

    .nav a:hover,
    .nav a.active {
      background: var(--primary);
      color: white;
      box-shadow: 0 0 18px rgba(139, 92, 246, 0.7);
    }

    h2 {
      font-size: 1.9rem;
      margin: 25px 0 35px;
      text-align: center;
      color: var(--primary-light);
      text-shadow: 0 0 12px rgba(236, 72, 153, 0.5);
    }

    .ads-container {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      justify-content: center;
      max-width: 750px;
      margin-bottom: 50px;
    }

    body[dir="rtl"] .ads-container {
      flex-direction: row-reverse;
    }

    .ad-box {
      width: calc(50% - 15px);
      max-width: 320px;
      height: 230px;
      background: var(--card-bg);
      border: 2px dashed var(--primary);
      border-radius: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      color: var(--primary-light);
      cursor: pointer;
      transition: all 0.4s ease;
      box-shadow: 0 5px 18px rgba(0,0,0,0.35);
      user-select: none;
      text-align: center;
      padding: 0 18px;
      backdrop-filter: blur(6px);
    }

    .ad-box.disabled {
      opacity: 0.5;
      cursor: not-allowed;
      border-color: #64748b;
      pointer-events: none;
    }

    .ad-box:hover:not(.disabled):not(.checking):not(.clicked) {
      transform: translateY(-8px) scale(1.04);
      border-color: var(--accent);
      box-shadow: 0 12px 30px rgba(236, 72, 153, 0.55);
    }

    .ad-box.checking {
      background: rgba(139, 92, 246, 0.28);
      border-color: #a78bfa;
      color: #ddd6fe;
      cursor: wait;
    }

    .ad-box.clicked {
      background: rgba(236, 72, 153, 0.28);
      border: 2px solid #ec4899;
      color: #fce7f3;
      cursor: default;
      transform: scale(1.02);
      box-shadow: 0 10px 25px rgba(236, 72, 153, 0.45);
    }

    #reward-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(30, 27, 75, 0.78);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(8px);
    }

    #reward-box {
      background: rgba(30, 27, 75, 0.92);
      border-radius: 26px;
      box-shadow: 0 18px 60px rgba(139, 92, 246, 0.65);
      padding: 45px 55px;
      text-align: center;
      max-width: 90%;
      width: 420px;
      border: 3px solid var(--primary);
      position: relative;
    }

    body[dir="rtl"] #reward-box {
      direction: rtl;
    }

    #reward-box strong {
      color: var(--primary-light);
      font-size: 2.1rem;
      display: block;
      margin-bottom: 22px;
      text-shadow: 0 0 12px currentColor;
    }

    #code {
      font-family: monospace;
      font-size: 2.5rem;
      color: white;
      background: rgba(0,0,0,0.45);
      padding: 16px 32px;
      border-radius: 16px;
      margin: 22px 0;
      display: inline-block;
      letter-spacing: 2.5px;
      border: 1px solid var(--primary);
    }

    #copy-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 15px 35px;
      border-radius: 50px;
      font-size: 1.15rem;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 18px;
      box-shadow: 0 6px 18px rgba(139, 92, 246, 0.55);
    }

    #copy-btn:hover {
      background: var(--primary-dark);
      transform: translateY(-3px);
    }

    #copy-btn.copied {
      background: #10b981;
    }

    .close-btn {
      position: absolute;
      top: 18px;
      inset-inline-start: 18px; /* left in ltr, right in rtl */
      font-size: 2.2rem;
      color: #a5b4fc;
      cursor: pointer;
      background: none;
      border: none;
      transition: color 0.2s;
    }

    .coming-soon {
      text-align: center;
      font-size: 2.8rem;
      color: var(--primary-light);
      margin-top: 120px;
      text-shadow: 0 0 25px currentColor;
    }

    @media (max-width: 620px) {
      .ads-container {
        flex-direction: column;
        align-items: center;
      }
      .ad-box {
        width: 95%;
        max-width: none;
      }
      .top-bar {
        flex-direction: column;
        text-align: center;
      }
      h1.site-title {
        font-size: 2.4rem;
      }
      #reward-box {
        padding: 35px 30px;
        width: 92%;
      }
    }
  </style>
</head>
<body data-lang="en">

  <header>
    <div class="top-bar">
      <div class="lang-switch">
        <button class="lang-btn" data-lang="fa">فارسی</button>
        <button class="lang-btn active" data-lang="en">English</button>
      </div>

      <h1 class="site-title" id="site-title" data-i18n="site-title">Desert Empire</h1>

      <div style="width:140px; visibility:hidden;"></div>
    </div>
  </header>

  <nav class="nav">
    <a href="#" class="active" data-i18n="main-page">Main Page</a>
    <a href="#store" data-i18n="store">Store</a>
  </nav>

  <div id="main-page">
    <h2 id="instruction-title" data-i18n="instruction-title">Click on the two ads below<br>to get your ad removal code</h2>

    <div class="ads-container">
      <div id="ad1" class="ad-box" data-ad="1">
        Ad #1<br>Click here
      </div>

      <div id="ad2" class="ad-box" data-ad="2">
        Ad #2<br>Click here
      </div>
    </div>
  </div>

  <div id="store-page" style="display: none;">
    <h2 class="coming-soon" id="coming-soon-text" data-i18n="coming-soon-text">Store<br>Coming Soon...</h2>
  </div>

  <div id="reward-overlay">
    <div id="reward-box">
      <button class="close-btn" onclick="closeReward()">×</button>
      <strong id="congrats-text" data-i18n="congrats-text">Congratulations! Your ad removal code:</strong>
      <div id="code">sinaggdell (private)</div>
      <button id="copy-btn" onclick="copyCode()" data-i18n="copy-btn">Copy Code</button>
    </div>
  </div>

  <script>
    const translations = {
      en: {
        "site-title": "Desert Empire",
        "main-page": "Main Page",
        "store": "Store",
        "instruction-title": "Click on the two ads below<br>to get your ad removal code",
        "coming-soon-text": "Store<br>Coming Soon...",
        "congrats-text": "Congratulations! Your ad removal code:",
        "copy-btn": "Copy Code",
        "checking": "Checking...",
        "clicked": "Clicked ✓"
      },
      fa: {
        "site-title": "Desert Empire",
        "main-page": "صفحه اصلی",
        "store": "فروشگاه",
        "instruction-title": "روی دو تبلیغ زیر کلیک کنید<br>تا کد حذف تبلیغات بگیرید",
        "coming-soon-text": "فروشگاه<br>به زودی ...",
        "congrats-text": "تبریک! کد حذف تبلیغات شما:",
        "copy-btn": "کپی کد",
        "checking": "در حال بررسی ...",
        "clicked": "کلیک شد ✓"
      }
    };

    let currentLang = "en";
    let processingAd = null;

    function setLanguage(lang) {
      currentLang = lang;
      document.body.dataset.lang = lang;
      document.documentElement.lang = lang;
      document.documentElement.dir = lang === "fa" ? "rtl" : "ltr";
      document.body.dir = lang === "fa" ? "rtl" : "ltr";

      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
          el.innerHTML = translations[lang][key];
        }
      });

      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
      });

      // بروزرسانی تبلیغات اگر در حال پردازش/کلیک شده باشند
      ['ad1', 'ad2'].forEach(id => {
        const el = document.getElementById(id);
        if (el.classList.contains('checking')) {
          el.innerHTML = translations[lang].checking;
        } else if (el.classList.contains('clicked')) {
          el.innerHTML = translations[lang].clicked;
        }
      });

      const copyBtn = document.getElementById('copy-btn');
      if (copyBtn && !copyBtn.classList.contains('copied')) {
        copyBtn.innerHTML = translations[lang]["copy-btn"];
      }
    }

    document.querySelectorAll('.lang-btn').forEach(btn => {
      btn.addEventListener('click', () => setLanguage(btn.dataset.lang));
    });

    let clickedAds = new Set();
    let checkingAds = new Set();

    function checkReward() {
      if (clickedAds.size === 2) {
        document.getElementById('reward-overlay').style.display = 'flex';
      }
    }

    function closeReward() {
      document.getElementById('reward-overlay').style.display = 'none';
    }

    function copyCode() {
      const code = document.getElementById('code').textContent.trim();
      const btn = document.getElementById('copy-btn');

      navigator.clipboard.writeText(code).then(() => {
        const original = btn.innerHTML;
        btn.innerHTML = currentLang === 'fa' ? 'کپی شد ✓' : 'Copied ✓';
        btn.classList.add('copied');
        setTimeout(() => {
          btn.innerHTML = original;
          btn.classList.remove('copied');
        }, 2000);
      }).catch(() => {
        alert(currentLang === 'fa' ? 'خطا در کپی! دستی کپی کنید.' : 'Copy failed! Copy manually.');
      });
    }

    function handleClick(adId, element) {
      if (clickedAds.has(adId) || checkingAds.has(adId) || processingAd !== null) return;

      processingAd = adId;
      const otherId = adId === 1 ? 'ad2' : 'ad1';
      const otherEl = document.getElementById(otherId);
      otherEl.classList.add('disabled');

      checkingAds.add(adId);
      element.classList.add('checking');
      element.innerHTML = translations[currentLang].checking;

      setTimeout(() => {
        checkingAds.delete(adId);
        clickedAds.add(adId);
        element.classList.remove('checking');
        element.classList.add('clicked');
        element.innerHTML = translations[currentLang].clicked;

        processingAd = null;
        otherEl.classList.remove('disabled');

        checkReward();
      }, 18000);
    }

    document.getElementById('ad1').addEventListener('click', () => handleClick(1, document.getElementById('ad1')));
    document.getElementById('ad2').addEventListener('click', () => handleClick(2, document.getElementById('ad2')));

    document.querySelectorAll('.nav a').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        document.querySelectorAll('.nav a').forEach(a => a.classList.remove('active'));
        this.classList.add('active');

        const isStore = this.getAttribute('href') === '#store';
        document.getElementById('main-page').style.display = isStore ? 'none' : 'block';
        document.getElementById('store-page').style.display = isStore ? 'block' : 'none';
      });
    });

    // شروع با انگلیسی
    setLanguage('en');
  </script>

</body>
</html>